<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Leo Simons" /><link rel="canonical" href="https://lsimons.github.io/caseum/guides/stages.html" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Architecture stages - Caseum</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Architecture stages";
        var mkdocs_page_input_path = "guides/stages.md";
        var mkdocs_page_url = "/caseum/guides/stages.html";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Caseum
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Guides</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Architecture stages</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#design-a-new-system-to-learn-caseum">Design a new system to learn Caseum</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#stage-0-no-need-for-caseum">Stage 0: no need for Caseum</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#stage-1-structured-brainstorming-whiteboarding">Stage 1: structured brainstorming &amp; whiteboarding</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#caseum-whiteboarding-step-by-step">Caseum whiteboarding step by step</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#focusing-in-on-specific-concerns">Focusing in on specific concerns</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#iterating-during-stage-1">Iterating during stage 1</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#time-budget-for-architecture">Time budget for architecture</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#stage-2-digital-diagrams-and-decision-records">Stage 2: digital diagrams and decision records</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#actively-try-to-avoid-stage-2">Actively try to avoid stage 2</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#make-digital-versions-of-your-stage-1-views">Make digital versions of your stage 1 views</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#caseum-digital-designs-step-by-step">Caseum digital designs step by step</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#keep-more-detailed-records">Keep more detailed records</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#iterating-during-step-2">Iterating during step 2</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#time-budget-for-architecture_1">Time budget for architecture</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#handling-non-functional-requirements">Handling non-functional requirements</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#stage-3-models-as-code-and-executable-specifications">Stage 3: models as code and executable specifications</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#actively-try-to-avoid-stage-3">Actively try to avoid stage 3</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#experiment">Experiment!</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#caseum-models-as-code-step-by-step">Caseum models as code step by step</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#beyond-stage-3">Beyond stage 3</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#platforms">Platforms</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#formal-enterprise-standards">Formal (enterprise) standards</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="as-is-to-be.html">As-is and to-be</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="records.html">Recording decisions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="whiteboarding.html">Whiteboarding architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="drawio.html">Draw.io for architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="platforms.html">Designing platforms</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Components using C4</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../components/c4-whiteboarding.html">Component whiteboarding</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../components/c4-template.html">Component template</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../components/c4-code.html">Component architecture-as-code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Actors using roles</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../actors/actor-whiteboarding.html">Actor whiteboarding</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../actors/role-template.html">Role template</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Stories using Gherkin</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../stories/story-whiteboarding.html">Story whiteboarding</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../stories/story-template.html">Story template</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../stories/gherkin-code.html">Gherkin specs-as-code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Events using event storming</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../events/event-storming.html">Event whiteboarding</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../events/event-template.html">Event template</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../events/asyncapi-code.html">AsyncAPI specs-as-code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">UI using whiteboarding</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ui/ui-whiteboarding.html">UI whiteboarding</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ui/ui-template.html">UI template</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Models using TLM</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../models/fact-modeling.html">Fact-based modeling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../models/fact-whiteboarding.html">Fact whiteboarding</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../models/tlm-template.html">TLM template</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../models/tlm-code.html">TLM models-as-code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Misc</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../CODE_OF_CONDUCT.html">Code of conduct</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing to Caseum</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../LICENSE.txt">License</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../design/fonts.html">Caseum fonts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../design/colors/colors.html">Caseum colors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../presentations/introduction.pdf">Introduction slides (PDF)</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Caseum</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Guides</li>
      <li class="breadcrumb-item active">Architecture stages</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/lsimons/caseum/edit/main/docs/guides/stages.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="architecture-stages">Architecture stages</h1>
<p><strong>Caseum has three stages of architecture to help do just enough architecture: don't go to the next stage unless you need it.</strong></p>
<p><strong>Prefer working software over comprehensive documentation, so do as little software architecture as results in good working software.</strong></p>
<p><img alt="Several screenshots of architecture views at different stages" src="stages-example.png" /></p>
<p>Simple small systems should have simple small architectures. Single teams should have informal architectures. When small systems get bigger their architectures grow with them. When teams get bigger and split into multiple teams their design processes grow with them.</p>
<h2 id="design-a-new-system-to-learn-caseum">Design a new system to learn Caseum</h2>
<p>This guide is for starting from scratch. Most architecture work is not for completely new software systems but starting from scratch is the easiest way to learn Caseum. See the <a href="as-is-to-be.html">guide on as-is and to-be</a> for working on existing systems.</p>
<h2 id="stage-0-no-need-for-caseum">Stage 0: no need for Caseum</h2>
<p>Small systems of 2000 lines of code or less or those built by 3 people or fewer do not need to use Caseum or any other specific approach to architecture. This stays true while all people on the team understand the whole system and the system quality remains high.</p>
<p>Only once the software system doesn't fit in everyone's head should you consider starting with Caseum.</p>
<p>Likewise, if you are or will be working on something that is completely new where even the problem space is not clear yet, do not start with software architecture and so do not start with Caseum. Something like a <a href="https://www.thesprintbook.com/">design sprint</a> may be a better start. Once you have built and validated one or a couple of prototypes you may be ready for architecture work.</p>
<h2 id="stage-1-structured-brainstorming-whiteboarding">Stage 1: structured brainstorming &amp; whiteboarding</h2>
<p>When you have more than 3 people working on a system that is getting bigger, you can start brainstorming and whiteboarding together in a planned manner using Caseum step 1.</p>
<p>It does not really matter in which order you make the different Caseum views. Just make all the views that make sense, all at the same time, and keep going until you think you have all the important information, or you are almost out of time.</p>
<p>You can use the general <a href="whiteboarding.html">guide on whiteboarding</a>.</p>
<h3 id="caseum-whiteboarding-step-by-step">Caseum whiteboarding step by step</h3>
<p>"Everything all at once" is not always easy to do. If you need more structure, try this order:</p>
<ol>
<li><strong>Actors</strong>:<ul>
<li>name the roles of the key actors using the software system.</li>
<li>write their needs for which they use the systems.</li>
<li>You can use the <a href="../actors/actor-whiteboarding.html">guide on whiteboarding actors</a>.</li>
</ul>
</li>
<li><strong>Stories</strong>:<ul>
<li>Write the main goals the actors have that they use the software system for.</li>
<li>Break bigger goals down into coarse-grained scenarios called "epics", from "epic story"</li>
<li>Describe the epics in terms of activities by the actors for which they use the system.</li>
<li>You can use the <a href="../stories/story-whiteboarding.html">guide on whiteboarding stories</a>.</li>
</ul>
</li>
<li><strong>UI</strong>:<ul>
<li>Sketch some basic wireframes of the UI the actors will use, if any.</li>
<li>If actors use CLIs or APIs or get e-mails or reports, then sketch out some of those.</li>
<li>You can use the <a href="../ui/ui-whiteboarding.html">guide on whiteboarding wireframes</a>.</li>
</ul>
</li>
<li><strong>Events</strong>:<ul>
<li>define the commands the actors will issue through these UIs to start on their activities.</li>
<li>Outline how the commands turn into different events that happen in the system.</li>
<li>Outline how the system will react to those events.</li>
<li>If you have a lot of events, try and group them into domains.</li>
<li>If you can, define coarse-grained events connecting the domains.</li>
<li>If a command, event, or reaction is not obvious to everyone, then add some examples.</li>
<li>You can use the <a href="../events/event-storming.html">guide on event storming</a>.</li>
</ul>
</li>
<li><strong>Components</strong>:<ul>
<li>Make a C4 context diagram showing the actors and their activities interacting with the system.</li>
<li>Make a C4 component diagram of the key components that make up the system so that all the different events reach a component.</li>
<li>Add the components needed to make those other components work. Give them a clear name. Add a description if it's not obvious to everyone.</li>
<li>Keep adding components until all the important components are sketched out.</li>
<li>If you have a lot of components, group them into stacks of closely related components and make a C4 container diagram.</li>
<li>If you have a lot of stacks, group them together into several distinct systems and make a C4 system landscape diagram.</li>
<li>If it is important to decide now what technology to use for some of the components then write the technology used under the name.</li>
<li>You can use the <a href="../components/c4-whiteboarding.html">guide on whiteboarding C4</a>.</li>
</ul>
</li>
<li><strong>Models</strong>:<ul>
<li>Draw circles for the main types that make up the main events.</li>
<li>Add links between those main types as arrows and label the kind of link.</li>
<li>If a type or link is not obvious to everyone then add some example facts. </li>
<li>Add additional important facts about each type that needs to be in the software system using additional facts and links.</li>
<li>Keep adding facts until enough of the types are sketched out that it is clear enough what all the events look like.</li>
<li>You can use the <a href="../models/fact-whiteboarding.html">guide on whiteboarding facts</a>.</li>
</ul>
</li>
</ol>
<p>Some advice while working through this order:</p>
<ul>
<li>Focus on capturing the most important design decisions. It is not important to be complete or have all the details.</li>
<li>Try to go fast through each step. When you start slowing down during one of these steps, just move to the next one.</li>
<li>During a later step you may discover other important information on previous steps, so go back and add it.</li>
<li>If it seems like your group disagrees about a particular detail, slow down a bit. First figure out what the disagreement is. Write down a question. Then have a brief discussion. If consent on an answer is not quickly found, capture it as a topic to detail later. If you use <a href="records.html">ADRs or RFDs</a>, this may be a good topic for such a document.</li>
</ul>
<h3 id="focusing-in-on-specific-concerns">Focusing in on specific concerns</h3>
<p>Even though Caseum has 6 different views there can be yet other concerns that need more focus. For example, you may want to</p>
<ul>
<li>review the designs for security</li>
<li>check the designs for consistency with some standard</li>
<li>analyze the designs for quality attributes (non-functional requirements)</li>
<li>analyze the designs for technology/platform choices</li>
<li>analyze the designs for lower-level/infrastructure needs</li>
<li>analyze the designs for architecture characteristics like cohesion or modularity</li>
<li>perform an <a href="https://aws.amazon.com/architecture/well-architected/">AWS well-architected review</a> or another similar structured design review process</li>
</ul>
<p>For most of these reviews you do not need to complete the Models view. You do need the Components view, and to have a good Components view you should have the other views to some level of detail as well.</p>
<p>To do so, draw the designs as you otherwise would. Then do an additional round to annotate the whiteboards based on those other issues. During the review write the issues on notes on the board, but do not immediately try to solve the issues. After you capture all the issues, prioritize them. Discuss only the important ones in more detail, and only as much as time allows.</p>
<h3 id="iterating-during-stage-1">Iterating during stage 1</h3>
<p>After you have whiteboarded initial versions of all the views, stop designing and implement some parts of the system. During implementation, you will learn a lot more which will inform your next iteration of the architecture. After you have implemented some software, make sure to test it, ideally by getting an initial production system in the hands of end users. When you do this you will learn a lot more.</p>
<p>After your first iteration, evaluate whether your implementation is very different from your architecture. If the designs mostly match your results, and you all sort-of know the next steps to take to implement the next iteration, you may not need to do more design yet.</p>
<p>During Caseum stage 1, do not worry too much about capturing the architecture permanently. There is a lot of value in just wiping (some of) the whiteboards and redrawing the design. Each time you redraw a picture you are likely to focus in more on what is important, leaving out the details that don't need to be in the picture. Each time you do this is an opportunity to discuss the design further and create a better shared understanding of what to do. It is also an opportunity to practice drawing and designing. This may sound inefficient, but it is very effective. Try it!</p>
<h3 id="time-budget-for-architecture">Time budget for architecture</h3>
<p>Experienced teams that have clear user goals &amp; needs, and have built similar systems before, using similar technology, may only need to spend only about 5% of their time creating and maintaining their design, i.e. about half a day at the beginning of a two-week sprint. Sometimes only a few of the people on the team need to do the design and the rest of the team can implement it.</p>
<p>If the team has less experience, the user needs are less clear, the system architecture is very new, or the implementation technology is new, it can be worthwhile to spend more time on architecture and design, up to perhaps about 20% of all the time available, or about 2 afternoons a week.</p>
<p>If you've spent more than a day a week doing architecture work, and this is not enough to know what to build during the rest of the week, spend some more time! This is one good indicator to start capturing designs more carefully - you may need to move to stage 2.</p>
<h2 id="stage-2-digital-diagrams-and-decision-records">Stage 2: digital diagrams and decision records</h2>
<p>During stage 2, you may still use whiteboards sometimes, but you also create and maintain a digital version of your designs.</p>
<p>Some of the Caseum views work best as text documents. Caseum recommends Markdown templates for text documents and provides templates.</p>
<p>Other Caseum views work best as visual diagrams. Caseum recommends draw.io for diagrams and provides templates and libraries.</p>
<h3 id="actively-try-to-avoid-stage-2">Actively try to avoid stage 2</h3>
<p>You want to stay in stage 1 if you can.</p>
<p>Do not start immediately with step 2, for most new projects maintaining a set of digital diagrams is too much structure too quickly. At best doing all that work will slow you down. What happens more often is that you stop maintaining or improving your design, and the designs grow stale, no longer matching the software system that is being built. It is better to have up-to-date designs in medium detail on a whiteboard, than to have out-of-date designs being ignored on a wiki.</p>
<p>On the other hand if you do find yourself redrawing the same picture a lot, or explaining the same concepts over and over again, then it is time to move from phase 1 to phase 2.</p>
<p>There's other times when your team is <em>usually</em> fine with whiteboarding, but you need some high quality digital artifacts for some other reason (like an important presentation or a compliance audit). If that's the case, by all means produce the digital diagrams. But after the event, throw the files away!</p>
<p>Ok, so perhaps you won't actually throw the diagrams away, fine. It's ok to print them out and stick them on your whiteboards. But what you should <em>not</em> do is start investing the effort to keep the fancy digital pictures up-to-date if you have no real need for them.</p>
<h3 id="make-digital-versions-of-your-stage-1-views">Make digital versions of your stage 1 views</h3>
<p>Your first step is to digitize everything. As you switch to a digital form, it is natural to be more precise and add more detail. Take the time to get the detail right. Usually that involves looking at the actual software system, so you don't fill in the detail based on your memory but based on the current reality.</p>
<p>After you complete the first version of the digital views, review them. You may see things you want to change or improve in the system. Make a list, prioritize it, and perhaps plan to make the improvements.</p>
<h3 id="caseum-digital-designs-step-by-step">Caseum digital designs step by step</h3>
<ol>
<li><strong>Actors</strong>:<ul>
<li>fill out a role description for each of your actors.</li>
<li>You can use the <a href="../actors/role-template.html">role template</a>.</li>
</ul>
</li>
<li><strong>Stories</strong>:<ul>
<li>break down all your epics and activities into clear user stories.</li>
<li>You can use the <a href="../stories/story-template.html">story template</a>.</li>
</ul>
</li>
<li><strong>Events</strong>:<ul>
<li>group your events by domain, if you did not do so yet. Give the domains clear names.</li>
<li>create a description for each event.</li>
<li>You can use the <a href="../events/event-template.html">event template</a>.</li>
</ul>
</li>
<li><strong>Components</strong>:<ul>
<li>Create digital versions of all your existing C4 diagrams.</li>
<li>Make sure all your actor roles are in the C4 context diagram.</li>
<li>Make sure all your event domains are in the C4 diagrams.</li>
<li>Create the C4 container diagram if you didn't have one yet.</li>
<li>You can use the <a href="../components/c4-template.html">C4 template</a>.</li>
</ul>
</li>
<li><strong>Models</strong>:<ul>
<li>Do <em>not</em> directly create digital versions of your model diagrams.</li>
<li>Instead, create your model diagrams based on the model definitions in your software systems (like your domain model or your SQL database definition scripts).</li>
<li>Object-oriented or table-oriented modeling is more common than the fact-based modeling that Caseum recommends. You can <a href="../models/fact-modeling.html">read why fact-based modeling is great</a> and decide to try it, or, you can use a modeling approach you already know.</li>
<li>If you decide to use fact-based modeling, you can use the <a href="../models/tlm-template.html">tlm template</a>.</li>
</ul>
</li>
<li><strong>UI</strong>:<ul>
<li>Maintaining digital UI designs is relatively a lot of effort that may not be worth it for you just for your architecture.</li>
<li>If you are using a modern design tool like Figma already, you can use those designs instead.</li>
<li>If you do not have such digital designs, you can use the <a href="../ui/ui-template.html">UI template</a> to make digital wireframes.</li>
<li>You can also choose to maintain your UI designs on paper or on whiteboards while you digitize the other views.</li>
</ul>
</li>
</ol>
<h3 id="keep-more-detailed-records">Keep more detailed records</h3>
<p>See the <a href="records.html">guide on keeping records</a>.</p>
<p>During step 1 you may have not kept detailed records. If so, during step 2 it is worth to start doing so. This is also a good time to consider the use of ADRs or RFDs.</p>
<h3 id="iterating-during-step-2">Iterating during step 2</h3>
<p>The more architecture views you have to maintain, the more useful it becomes to work on them a little bit regularly. If you only do a "big bang" architecture update every few months, there are long periods when your architecture is not so useful since it is too out-of-date to use.</p>
<p>You could make updating the diagrams part of your <a href="https://www.agilealliance.org/glossary/definition-of-ready">definition-of-ready</a> or your <a href="https://www.agilealliance.org/glossary/definition-of-done/">definition-of-done</a>.</p>
<p>Alternatively you could update the diagrams periodically, like at the beginning or end of a 2-week sprint.</p>
<h3 id="time-budget-for-architecture_1">Time budget for architecture</h3>
<p>Creating the initial digital versions of all the architecture views can be a significant one-off investment, perhaps up to a couple of weeks of effort if you managed to stay in stage 1 for as long as is recommended.</p>
<p>After that initial investment, maintaining the digital views will also take some time on an ongoing basis. It shouldn't take more than about 20% of your time, and 10% would be better.</p>
<p>If you find you do not have time for maintaining the diagrams, as a first step, clearly label the diagrams out-of-date. If the lack of up-to-date diagrams starts to cause you issues, then decide what to do. A good approach may be to only maintain the higher-level designs. Because those may change less frequently, this will be less effort.</p>
<p>If you have many stories, events, components, or models, it may become more efficient to maintain them as code instead of as visual diagrams. That efficiency is the main reason to switch to Caseum stage 3.</p>
<h3 id="handling-non-functional-requirements">Handling non-functional requirements</h3>
<p>Many software architectures focus too much on interesting technical requirements and as a result systems become more rigid and complex than needed. To help combat this, Caseum focuses on working iteratively, keeping users and their needs in mind throughout the design process.</p>
<p>However, for larger systems the non-functional requirements may become relatively more and more challenging to meet. Such needs are often not easy to visualize either. Instead, consider keeping more detailed <a href="records.html">records</a> such as Architecture Decision Records (ADRs) or Requests For Discussion (RFDs) that explain how the non-functional requirements are being met.</p>
<h2 id="stage-3-models-as-code-and-executable-specifications">Stage 3: models as code and executable specifications</h2>
<p>During stage 3 you define and maintain your Caseum architecture not using informal visuals and text documents, but with structured models as code and with executable specifications. You may generate some parts of your software from those models, or generate some of those models from your software.</p>
<h3 id="actively-try-to-avoid-stage-3">Actively try to avoid stage 3</h3>
<p>Many engineers like the idea of models-as-code in theory. It appeals to them because they like coding, so coding the architecture also makes sense. There is also a promise of higher consistency. But such a technical approach can have serious downsides too:</p>
<ul>
<li>Requiring coding skills to work on the architecture, excluding some team members</li>
<li>Rigid inflexible technical tools making it hard to flexibly express the architecture of the system in the most clear way</li>
<li>Spending effort on dealing with technical tools and frameworks instead of communicating design decisions and building working software</li>
</ul>
<p>The larger and more complex a software system, the more likely there is value in adopting models as code. As a rule of thumb, it makes sense to start to evaluate using such tools when you have one system with over 50 components, over 100 models, and/or over 50 people working on it.</p>
<p>Note that if you created a great software design, you can end up with many independent small systems maintained by small teams that have limited interaction. In that case, even for very large software landscapes, you still do not ever need stage 3!</p>
<h3 id="experiment">Experiment!</h3>
<p>Rather than just switch from stage 2 to stage 3, do some experiments. Create some initial prototype versions of structured models and specifications. Measure how much time it takes to do so. Then maintain those prototypes for some period (perhaps 3 2-week sprints) and see how much time that takes. Evaluate whether you save time compared to maintaining the visual diagrams. If so, great! Otherwise, are there enough other benefits?</p>
<h3 id="caseum-models-as-code-step-by-step">Caseum models as code step by step</h3>
<ol>
<li><strong>Stories</strong>:<ul>
<li>Start writing your stories in Gherkin format.</li>
<li>You can consider using BDD and automate testing using the Gherkin stories, which is a great benefit of Gherkin, which is why Stories are a good view to start Caseum stage 3 with.</li>
<li>You can use the <a href="../stories/gherkin-code.html">Gherkin coding guide</a>.</li>
</ul>
</li>
<li><strong>Components</strong>:<ul>
<li>C4 has a great textual format in Structurizr that is worth using if you have a lot of components.</li>
<li>You can use the <a href="../components/c4-code.html">C4 coding guide</a>.</li>
</ul>
</li>
<li><strong>Models</strong>:<ul>
<li>If you use advanced fact-based modeling, there are good bidirectional mappings between software systems and textual specifications, and you should consider them.</li>
<li>For example, if you adopted TLM, you can use the <a href="../models/tlm-template.html">TLM coding guide</a>.</li>
<li>On the other hand, if you use UML or other object-oriented modeling techniques, do not use automated bidirectional mapping tools, because they produce low-quality code. In this case it is better to work "code first": write source code and then generate the model definitions from your code.</li>
</ul>
</li>
<li><strong>Events</strong>:<ul>
<li>You can consider using a formal standard for defining and maintaining event definitions.</li>
<li>If you have a lot of system-to-system events, you may already be using detailed technical specifications for the APIs, like Swagger for REST APIs or Avro for messaging systems. If so, there is little value in codifying the event view separately.</li>
<li>Otherwise, you can use the <a href="../events/asyncapi-code.html">AsyncAPI coding guide</a>.</li>
</ul>
</li>
<li><strong>Actors</strong>:<ul>
<li>There's no executable specification for actors. Maintain the role descriptions as text, like in phase 2.</li>
</ul>
</li>
<li><strong>UI</strong>:<ul>
<li>There's no executable specification for UI.</li>
<li>If you have a large team working on a large software system that includes UI, then you probably have dedicated UI designers. Let them maintain the UI views and link to it from your architecture documentation.</li>
</ul>
</li>
</ol>
<h2 id="beyond-stage-3">Beyond stage 3</h2>
<p>For very large systems of systems you may need to go beyond Caseum.</p>
<h3 id="platforms">Platforms</h3>
<p>If you have many developer teams you may consider a platform team that focuses on providing a platform layer to the other developer teams. See the <a href="platforms.html">guide on platforms</a> for how to use Caseum in that situation.</p>
<h3 id="formal-enterprise-standards">Formal (enterprise) standards</h3>
<p>If you are building very large systems, you may consider a more formal architecture approach. Do not use Caseum to design space shuttles or nuclear power plants.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../index.html" class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="as-is-to-be.html" class="btn btn-neutral float-right" title="As-is and to-be">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/lsimons/caseum" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../index.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="as-is-to-be.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
